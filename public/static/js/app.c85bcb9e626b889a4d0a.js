webpackJsonp([12],{HfaK:function(t,e,n){t.exports=n.p+"static/img/avatar.ab1287e.png"},LJdk:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("O534"),o={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]},r=n("Aizv")(null,o,!1,null,null,null).exports,i=n("1eSk"),u=[{path:"/login",name:"login",meta:{title:"登录"},component:function(){return n.e(3).then(n.bind(null,"jUBK"))}},{path:"/",component:function(){return n.e(1).then(n.bind(null,"ik/t"))},children:[{path:"",name:"dashboard",parent:"login",meta:{title:"控制台"},component:function(){return n.e(0).then(n.bind(null,"Xra4"))}},{path:"users",name:"user.list",meta:{title:"用户列表"},component:function(){return n.e(7).then(n.bind(null,"OdxX"))}},{path:"roles",name:"role.list",meta:{title:"角色列表"},component:function(){return n.e(6).then(n.bind(null,"C1e5"))}},{path:"accesses",name:"access.list",meta:{title:"权限列表"},component:function(){return n.e(8).then(n.bind(null,"GYIS"))}},{path:"avatars",component:function(){return n.e(4).then(n.bind(null,"Xo5g"))},children:[{path:"",name:"avatar.list",meta:{title:"头像列表"},component:function(){return n.e(2).then(n.bind(null,"KXEc"))}},{path:"add",name:"avatar.add",meta:{title:"新增头像"},component:function(){return n.e(5).then(n.bind(null,"0nBt"))}}]},{path:"projects",name:"project.list",meta:{title:"项目列表"},component:function(){return n.e(9).then(n.bind(null,"m8VU"))}},{path:"projects/create",name:"project.create",meta:{title:"新增项目"},component:function(){return n.e(10).then(n.bind(null,"p+Vc"))}}]}],c=n("EcfS"),l={state:{routes:u,theme:"dark"},mutations:{}},s={state:{name:"",avatar:""},mutations:{userLogin:function(t,e){t.name=e.name,t.avatar=e.avatar},userLogout:function(t,e){t.name="",t.avatar=""}}};a.default.use(c.a);var m=new c.a.Store({modules:{app:l,user:s},mutations:{},actions:{}}),d=n("RAin"),p=n.n(d);a.default.use(i.a);var f=new i.a({routes:u});f.beforeEach(function(t,e,n){"login"===t.name||m.state.user.name?"login"===t.name&&m.state.user.name?n({name:"dashboard"}):(window.document.title=t.meta.title,p.a.LoadingBar.start(),n()):n({name:"login"})}),f.afterEach(function(t){p.a.LoadingBar.finish(),window.scrollTo(0,0)});var h=f,g=n("Edqs"),v=n.n(g),b=n("UIuv"),w=n.n(b),k=n("hs4R"),E=n.n(k),L={get:function(t,e){var n={method:"get",params:e};return this.fetch(t,n)},post:function(t,e){var n={method:"post",data:e,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}};return this.fetch(t,n)},fetch:function(t,e){return new w.a(function(n,a){e=v()({url:"//www.ikouou.com"+t},e),E()(e).then(function(t){"200"===t.data.code?n(t.data):(d.Message.warning(t.data.msg),"401"===t.data.code?setTimeout(function(){location.reload()},1e3):a(t.data))}).catch(function(t){console.log(t),"520"===t.response.status?(d.Message.error("页面已过期, 即将自动刷新页面"),setTimeout(function(){location.reload()},1e3)):(d.Message.error("妈呀，服务器跑偏了，稍后再试一下吧"),a(t))})})}},j=n("HfaK"),S=n.n(j);n("LJdk");a.default.use(p.a),a.default.config.productionTip=!1,L.get("/api/init").then(function(t){m.commit("userLogin",{name:t.result.username,avatar:S.a})}).finally(function(){new a.default({el:"#app",router:h,store:m,components:{App:r},template:"<App/>"})})}},["NHnr"]);
//# sourceMappingURL=app.c85bcb9e626b889a4d0a.js.map